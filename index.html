<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Ganadero B&M</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
:root{
  --verde:#2e7d32;
  --gris:#f4f6f8;
  --oscuro:#1f2933;
  --borde:#dcdfe3;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto;
  background:var(--gris);
  color:#222;
}
.app{
  display:grid;
  grid-template-columns:260px 1fr;
  height:100vh;
}
.menu{
  background:#fff;
  border-right:1px solid var(--borde);
  padding:20px;
}
.menu h1{font-size:20px;margin:0 0 20px 0;color:var(--verde)}
.menu ul{list-style:none;padding:0;margin:0}
.menu li{
  padding:10px;
  border-radius:8px;
  margin-bottom:4px;
  cursor:pointer;
}
.menu li.active{background:var(--verde);color:#fff;font-weight:600}
.menu li:hover{background:var(--gris)}
.submenu{margin-left:10px;margin-top:4px}
.submenu li{font-size:14px}
.content{padding:25px;overflow:auto}
.dashboard-general{
  background:#fff;
  border-radius:18px;
  padding:22px;
  box-shadow:0 6px 16px rgba(0,0,0,.08);
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:20px;
  margin-bottom:30px;
}
.dg-item{text-align:center}
.dg-item span{display:block;font-size:34px;font-weight:700;margin-top:6px}
.config-box{
  background:#fff;
  border-radius:18px;
  padding:20px;
  box-shadow:0 6px 16px rgba(0,0,0,.08);
}
.config-box input,.config-box select,.config-box textarea{
  width:100%;padding:8px;margin-bottom:10px;border-radius:6px;border:1px solid var(--borde)
}
.config-box button{
  background:var(--verde);color:#fff;border:none;padding:10px 14px;border-radius:8px;cursor:pointer
}
.table{width:100%;border-collapse:collapse;font-size:14px}
.table th,.table td{padding:10px;border-bottom:1px solid var(--borde)}
.filters span{margin-right:12px;cursor:pointer;font-weight:600}
.filters span.active{color:var(--verde)}
</style>
</head>

<body>
<div class="app">
<aside class="menu">
<h1>Ganadero B&M</h1>
<ul>
<li class="active" onclick="showView('inicio',this)">Inicio</li>
<li onclick="showView('animales',this)">Animales</li>

<li onclick="showView('altas',this)">Altas</li>
<ul class="submenu" id="altasSub" style="display:none">
<li onclick="renderAltaAnimal()">Alta de animales</li>
<li>Alta por lote</li>
<li>Alta por compra</li>
<li>Alta por nacimiento</li>
</ul>

<li onclick="showView('salud',this)">Salud</li>
<li onclick="showView('reproduccion',this)">Reproducción</li>
<li onclick="showView('config',this)">Configuración</li>
</ul>
</aside>

<main class="content">
<div class="dashboard-general">
<div class="dg-item">Rodeos activos<span id="dgRodeos">0</span></div>
<div class="dg-item">Animales totales<span id="dgAnimales">0</span></div>
<div class="dg-item">Alertas<span id="dgAlertas">0</span></div>
</div>

<section id="inicioView"></section>
<section id="animalesView" style="display:none"></section>
<section id="altasView" style="display:none"></section>
<section id="saludView" style="display:none"></section>
<section id="reproduccionView" style="display:none"></section>
<section id="configView" style="display:none"></section>
</main>
</div>

<script>
const inicioView=document.getElementById('inicioView');
const animalesView=document.getElementById('animalesView');
const altasView=document.getElementById('altasView');
const dgRodeos=document.getElementById('dgRodeos');
const dgAnimales=document.getElementById('dgAnimales');
const dgAlertas=document.getElementById('dgAlertas');
const altasSub=document.getElementById('altasSub');

const db={
  rodeos:['Cría','Recría','Invernada','Vaquillonas'],
  alertas:[]
};

const animalesDB=[];

/* navegación */
function cleanMenu(){
  document.querySelectorAll('.menu>ul>li').forEach(l=>l.classList.remove('active'));
}
function hideViews(){
  [inicioView,animalesView,altasView].forEach(v=>v.style.display='none');
}
function showView(v,el){
  cleanMenu();
  el.classList.add('active');
  hideViews();
  document.getElementById(v+'View').style.display='block';
  altasSub.style.display = v==='altas'?'block':'none';
  if(v==='animales') renderAnimales();
}

/* dashboard */
function renderDashboard(){
  dgRodeos.textContent=db.rodeos.length;
  dgAnimales.textContent=animalesDB.length;
  dgAlertas.textContent=db.alertas.length;
}

/* animales */
function renderAnimales(cat='Todos'){
  const cats=['Todos','Vaca','Vaquillona','Toro','Ternera','Ternero'];
  animalesView.innerHTML=`
  <div class="config-box">
    <div class="filters">
      ${cats.map(c=>`<span class="${cat===c?'active':''}" onclick="renderAnimales('${c}')">${c}s</span>`).join('')}
    </div>
    <table class="table">
      <tr><th>Caravana</th><th>Origen</th><th>Color</th><th>Rodeo</th><th>Obs</th></tr>
      ${animalesDB
        .filter(a=>cat==='Todos'||a.categoria===cat)
        .sort((a,b)=>a.caravana-b.caravana)
        .map(a=>`<tr><td>${a.caravana}</td><td>${a.origen}</td><td>${a.color}</td><td>${a.rodeo}</td><td>${a.obs}</td></tr>`).join('')}
    </table>
  </div>`;
}

/* altas */
function renderAltaAnimal(){
  altasView.innerHTML=`
  <div class="config-box">
    <h3>Alta de animales</h3>
    <input id="caravana" placeholder="Caravana">
    <select id="categoria">
      <option>Vaca</option><option>Vaquillona</option><option>Toro</option>
      <option>Ternero</option><option>Ternera</option>
    </select>
    <select id="origen"><option>Nacido</option><option>Comprado</option></select>
    <input id="color" placeholder="Color">
    <select id="rodeo">${db.rodeos.map(r=>`<option>${r}</option>`).join('')}</select>
    <textarea id="obs" placeholder="Observaciones"></textarea>
    <button onclick="guardarAnimal()">Guardar</button>
  </div>`;
}

function guardarAnimal(){
  const car=caravana.value;
  if(animalesDB.find(a=>a.caravana==car)){
    alert('Caravana duplicada');return;
  }
  animalesDB.push({
    caravana:+car,
    categoria:categoria.value,
    origen:origen.value,
    color:color.value,
    rodeo:rodeo.value,
    obs:obs.value
  });
  renderDashboard();
  alert('Animal cargado');
}

renderDashboard();
</script>
</body>
</html>
